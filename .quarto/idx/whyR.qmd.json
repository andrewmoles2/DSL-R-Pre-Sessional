{"title":"Why learn R","markdown":{"yaml":{"title":"Why learn R"},"headingText":"Easy to learn","containsRefs":false,"markdown":"\n\nThere are a lot of reasons why you should learn R, and it is very prevalent in academia, bioinformatics (analysis of biological data), data analyst and data scientist roles\n\nA lot of LSE courses that involved statistics or data primarily use R. This is because R is a excellent tool for:\n\n-   Statistics\n-   Data handling (i.e. cleaning and manipulating data)\n-   Visualisations, interactive graphics, applications, and dashboards\n-   Reporting (i.e. academic writing as well as building websites)\n-   Automation (such as automating an analysis)\n\nR is an open-source tool, which means you do not need to buy a licence in order to use it, and is a popular programming language, as shown in the PYPL index from 2023\n\n![PYPL index 2023](https://raw.githubusercontent.com/andrewmoles2/rTrainIntroduction/main/r-fundamentals-1/Images/PYPL_index_23.png){width=\"400\" fig-align=\"center\"}\n\n\nA key advantage of R is that it is retentively easy to learn, especially in comparison with other programming languages used for data analysis like Python. A large part of this is due to R being designed to work with data, so it feels natural, and some of the excellent extensions that have been added to R over the years to make it more slick (great examples are the tidyverse and data.table packages). \n\nFurther, there are the vast amount of online resources in forms of tutorials, blogs, online courses, people sharing code/examples and help available through online discussion forums like stackoverflow and slack.\n\nSome of the best available resources to learn R are:\n\n-   [R for Data Science book](https://r4ds.hadley.nz/){target=\"_blank\"} and the [first edition](https://r4ds.had.co.nz/){target=\"_blank\"} is still great\n-   [R for Data Science slack channel](https://rfordatasci.com/){target=\"_blank\"} has great community support\n-   [Codecademy](https://www.codecademy.com/learn/learn-r){target=\"_blank\"} R course\n-   [R bloggers](https://www.r-bloggers.com/){target=\"_blank\"} collates blog posts about R. Some blogs I would recommend checking out are https://www.cedricscherer.com/, https://karaman.is/, https://djnavarro.net/, https://github.com/tashapiro/TidyTuesday, https://www.yan-holtz.com/blog.html, and https://albert-rapp.de/blog.html\n-   For data visualisation ggplot2 is the go to tool, and the best way to learn it is to run through [the ggplot2 book](https://ggplot2-book.org/){target=\"_blank\"} and using the [R graph gallery](https://r-graph-gallery.com/){target=\"_blank\"}\n-   For getting some open source data to start your own projects I would recommend the tidy Tuesday initiative. All datasets are hosted in [github](https://github.com/rfordatascience/tidytuesday){target=\"_blank\"}.\n-   [Statquest](https://www.youtube.com/@statquest){target=\"_blank\"} is a YouTube channel that provides clear explanations of statistical methods, and how do do them in R.\n\n    -   Take this example of how to do a [linear regression in R](https://www.youtube.com/watch?v=u1cc1r_Y7M0&list=PLblh5JKOoLUJJpBNfk8_YadPwDTO2SCbx&index=5){target=\"_blank\"}\n\n    -   Or this for a [multiple linear regression in R](https://www.youtube.com/watch?v=hokALdIst8k&list=PLblh5JKOoLUJJpBNfk8_YadPwDTO2SCbx&index=7){target=\"_blank\"}\n\n-   [Modern stats with R](https://www.modernstatisticswithr.com/regression.html#){target=\"_blank\"} book provides some useful examples\n\n-   [R tutor](https://www.r-tutor.com/elementary-statistics){target=\"_blank\"} which provides short examples of lots of statistical tests.\n\n-   [R statistics tutorials](https://r-statistics.co/Statistical-Tests-in-R.html){target=\"_blank\"} which are longer tutorials on models like regression.\n\n## Some examples of R being awesome for Data visualisation\n\n![Animated gif of rainfall and temperature changes over time in Australian cities](https://github.com/andrewmoles2/TidyTuesday/blob/master/Australia-fires-2020-01-07/Auz_Rain&Temp2.gif?raw=true){fig-alt=\"Animated gif of rainfall and temperature changes over time in Australian cities\" fig-align=\"center\" width=\"90%\"}\n\n![Regional map UK showing how each area is doing in terms of gender pay equality for each year data has existed, from 2017-2022](https://github.com/andrewmoles2/TidyTuesday/blob/master/paygap-2022-06-28/median_pay_diff_postcode_year.png?raw=true){fig-alt=\"Regional map showing how each area of the UK is doing in terms of gender pay equality for each year data has existed from 2017-2023. \" fig-align=\"center\" width=\"75%\"}\n\n::: {.callout-tip collapse=\"false\"}\n## Fun side note\n\nThis webpage was built using R. If you are interested, come to the workshops and chat to one of the instructors about it!\n:::\n\n\n```{r interactive, echo=FALSE, message=FALSE, warning=FALSE, fig.cap=\"Interactive graphic of Dr Who episodes IMDB rating by actor playing the Doctor\", out.width='100%'}\n\n# load libraries ----\nlibrary(tidyverse, warn.conflicts = FALSE)\nlibrary(ggiraph, warn.conflicts = FALSE)\nlibrary(ggimage, warn.conflicts = FALSE)\n\n# load in the separate datasets ----\ndirectors <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-11-23/directors.csv')\nepisodes <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-11-23/episodes.csv')\n\n# make list of doctors per season ----\ndoctor <- c(\"Christopher Eccleston\",\"David Tennant\",\"David Tennant\",\"David Tennant\",\n          \"Matt Smith\",\"Matt Smith\",\"Matt Smith\",\"Peter Capaldi\",\"Peter Capaldi\",\n          \"Peter Capaldi\",\"Jodie Whittaker\",\"Jodie Whittaker\",\"Jodie Whittaker\")\nseason <- 1:13\ndoctors <- data.frame(season,doctor)\n\n# clean up missing season data on special episodes ----\nepisodes <- episodes %>%\n  mutate(season_number = case_when(\n      first_aired >= \"2008-12-25\" & first_aired <= \"2010-01-01\" ~ 4,\n      first_aired >= \"2013-11-23\" & first_aired <= \"2013-12-25\" ~ 7,\n      TRUE ~ season_number))\n\n# make main data through joins ----\ndf_who <- left_join(episodes, directors, by = \"story_number\")\ndf_who <- left_join(df_who, doctors, by = c(\"season_number\" = \"season\")) %>%\n  mutate(director = factor(director),\n         doctor = factor(doctor, levels = c(\"Christopher Eccleston\", \"David Tennant\",\n                                       \"Matt Smith\", \"Peter Capaldi\", \"Jodie Whittaker\")))\n# set up palettes ----\npal <- c(\n  \"#B4301B\", # dark red (CE)\n  \"#38631F\", # dark green (DT)\n  \"#6A51A3\", # purple (MS)\n  \"#0455EB\", # vivid blue (PC)\n  \"#FFA62B\" # vivid orange (JW)\n)\n\n# average rating and viewers + image path ----\ndf_who %>%\n  group_by(doctor) %>%\n  mutate(avg_dr_rating = mean(rating, na.rm = TRUE),\n    avg_dr_viewers = mean(uk_viewers, na.rm = TRUE),\n    avg_rating = mean(avg_dr_rating, na.rm = TRUE)) %>%\n  ungroup() %>%\n  mutate(image = case_when(\n    doctor == \"Peter Capaldi\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/peter_c.png\",\n      doctor == \"David Tennant\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/david_t.png\",\n      doctor == \"Matt Smith\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/matt_s.png\",\n      doctor == \"Jodie Whittaker\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/jodie_w.png\",\n      doctor == \"Christopher Eccleston\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/chris_e.png\"\n  )) -> df_who\n\ndf_who %>%\n  mutate(\n    plot_text = paste(\"Episode\", episode_number, \"-\", episode_title, \"from season\", season_number, \"had\", uk_viewers, \"UK viewers\")\n    ) -> df_who\n\navg_who <- \n  df_who %>%\n  group_by(doctor) %>%\n  summarise(avg_dr_rating = mean(avg_dr_rating))\n\nf3 <- \"Avenir\"\n\ndf_who %>%\n  ggplot(aes(x = doctor, y = rating)) +\n  geom_jitter_interactive(size = 7, width = 0.35, alpha = 0.8, hover_nearest = TRUE,\n                          aes(colour = doctor, data_id = story_number,\n                              tooltip = plot_text)) +\n  geom_hline(aes(yintercept = mean(avg_rating)), \n             colour = \"grey5\", size = 1, linetype = 5) +\n  geom_segment(aes(x = doctor, xend = doctor, y = mean(avg_rating), yend = avg_dr_rating),\n               colour = \"grey5\", size = 1, linetype = 2) +\n  geom_point(aes(x = doctor, y = avg_dr_rating), \n             size = 8, shape = 19, fill = \"grey10\", alpha = 0.8) +\n#  geom_image(aes(x = doctor, y = avg_dr_rating, image = image), asp = 1.4) +\n  geom_text(data = avg_who, aes(x = doctor, y = avg_dr_rating, label = round(avg_dr_rating, 1)), \n            family = f3, nudge_x = 0, colour = \"grey95\", size = 3) +\n  annotate(\"text\", x = 4.5, y = 88, hjust = \"left\", family = f3, colour = \"grey5\", size = 3,\n           label = paste0(\"Overall Average: \", round(mean(df_who$avg_dr_rating),2))) +\n  annotate(\"curve\", x = 4.5, y = 87.9, xend = 4.8, yend = 84.2, colour = \"grey5\",\n           curvature = -.3, arrow = arrow(length = unit(2, \"mm\"))) +\n  annotate(\"text\", x = 2.5, y = 79.9, hjust = \"right\", family = f3, colour = \"grey5\",\n           label = \"Average Per Doctor\", size = 3) +\n  annotate(\"curve\", x = 2.5, y = 80, xend = 1.2, yend = 82.2, colour = \"grey5\",\n           curvature = .3, arrow = arrow(length = unit(2, \"mm\"))) +\n  annotate(\"curve\", x = 2.5, y = 80, xend = 3.8, yend = 82.2, colour = \"grey5\",\n           curvature = -.3, arrow = arrow(length = unit(2, \"mm\"))) +\n  scale_colour_manual(values = pal) +\n  guides(colour = \"none\") +\n  scale_y_continuous(limits = c(75, 95)) +\n  labs(title = \"Doctor Who...was the most popular?\",\n       subtitle = \"Dr Who episodes IMDB rating by Doctor, scale out of 100\",\n       caption = \"Source: datardis package | Graphic: Andrew Moles\",\n       x = \"\", y = \"IMDB Rating\") +\n  coord_flip() +\n  theme(text = element_text(family = f3),\n        plot.title.position = \"plot\",\n        plot.title = element_text(size = 20, face = \"bold\", family = f3),\n        plot.subtitle = element_text(size = 14, family = f3),\n        plot.caption = element_text(size = 10, face = \"italic\"),\n        axis.text = element_text(size = 11),\n        plot.background = element_rect(fill = \"grey95\"),\n        panel.background = element_rect(fill = \"grey95\"),\n        panel.grid.major.y = element_blank(),\n        panel.grid.minor.y = element_blank(),\n        panel.grid.major.x = element_line(colour = \"grey80\"),\n        panel.grid.minor = element_line(colour = \"grey80\"),\n        axis.ticks = element_blank()) -> dr_w\n\ncss_default_hover <- girafe_css_bicolor(primary = \"#E2DBAA\", secondary = \"#ABB3E2\")\nset_girafe_defaults(opts_hover = opts_hover(css = css_default_hover))\n\ngirafe(ggobj = dr_w, fonts = list(\"Arial\"), \n       options = list(opts_toolbar(position = \"bottom\")))\n```\n\n\nBelow is an example of using the [http://quanteda.io/](Quanteda){target=\"_blank\"} package for text analysis, which is developed here at LSE by Ken Benoit. It is a visualisation to show how readable inaugural speeches from presidents have been since 1945. A higher score means the text used in the speech is more readable.\n\n```{r quanteda, message=FALSE, warning=FALSE}\n#| code-fold: true\n#| code-summary: \"Show the code\"\n#| out-width: '100%'\n\n# load libraries\nlibrary(quanteda)\nlibrary(quanteda.textstats)\nlibrary(ggplot2)\n\n# prepare data\ninaugural_readability <- data_corpus_inaugural %>%\n    corpus_subset(Year > 1945) %>% \n    textstat_readability(measure = c(\"Flesch\"))\n\n# calculate readability\navg_readability <- mean(inaugural_readability$Flesch)\n\n# text and point colours\npoint_col <- \"black\"\ntext_col <- \"white\"\n\n# make visual\nggplot(inaugural_readability, \n       aes(x = document, y = Flesch)) +\n  geom_point(size = 6.5, colour = point_col) +\n  geom_hline(yintercept = avg_readability,\n             alpha = 0.75, linetype = 5, linewidth = 1.2) +\n  geom_segment(aes(xend = document, yend = avg_readability),\n               linetype = 3, linewidth = 1.2) +\n  geom_text(aes(label = round(Flesch, 1)), \n            colour = text_col, size = 2, family = \"Avenir\") +\n  annotate(geom = \"text\", x = \"2005-Bush\", y = 69,\n           family = \"Avenir\", size = 4,\n           label = paste0(\"Average readability: \", round(avg_readability,2))) +\n  annotate(geom = \"curve\",x = 14.5, y = 66, alpha = 0.6,\n           xend = \"2005-Bush\", yend = avg_readability+0.4,\n           curvature = -0.35, arrow = arrow(length = unit(0.15, \"inches\"))) +\n  coord_flip() +\n    labs(x = NULL, y = \"Readability (Flesch)\",\n         title = \"Readability of inaugural speeches since 1945\",\n         subtitle = \"Higher score means text is more readable\") +\n  theme_minimal(base_family = \"Avenir\") +\n  theme(plot.title.position = \"plot\")\n\n```\n\n\n\n","srcMarkdownNoYaml":"\n\nThere are a lot of reasons why you should learn R, and it is very prevalent in academia, bioinformatics (analysis of biological data), data analyst and data scientist roles\n\nA lot of LSE courses that involved statistics or data primarily use R. This is because R is a excellent tool for:\n\n-   Statistics\n-   Data handling (i.e. cleaning and manipulating data)\n-   Visualisations, interactive graphics, applications, and dashboards\n-   Reporting (i.e. academic writing as well as building websites)\n-   Automation (such as automating an analysis)\n\nR is an open-source tool, which means you do not need to buy a licence in order to use it, and is a popular programming language, as shown in the PYPL index from 2023\n\n![PYPL index 2023](https://raw.githubusercontent.com/andrewmoles2/rTrainIntroduction/main/r-fundamentals-1/Images/PYPL_index_23.png){width=\"400\" fig-align=\"center\"}\n\n## Easy to learn\n\nA key advantage of R is that it is retentively easy to learn, especially in comparison with other programming languages used for data analysis like Python. A large part of this is due to R being designed to work with data, so it feels natural, and some of the excellent extensions that have been added to R over the years to make it more slick (great examples are the tidyverse and data.table packages). \n\nFurther, there are the vast amount of online resources in forms of tutorials, blogs, online courses, people sharing code/examples and help available through online discussion forums like stackoverflow and slack.\n\nSome of the best available resources to learn R are:\n\n-   [R for Data Science book](https://r4ds.hadley.nz/){target=\"_blank\"} and the [first edition](https://r4ds.had.co.nz/){target=\"_blank\"} is still great\n-   [R for Data Science slack channel](https://rfordatasci.com/){target=\"_blank\"} has great community support\n-   [Codecademy](https://www.codecademy.com/learn/learn-r){target=\"_blank\"} R course\n-   [R bloggers](https://www.r-bloggers.com/){target=\"_blank\"} collates blog posts about R. Some blogs I would recommend checking out are https://www.cedricscherer.com/, https://karaman.is/, https://djnavarro.net/, https://github.com/tashapiro/TidyTuesday, https://www.yan-holtz.com/blog.html, and https://albert-rapp.de/blog.html\n-   For data visualisation ggplot2 is the go to tool, and the best way to learn it is to run through [the ggplot2 book](https://ggplot2-book.org/){target=\"_blank\"} and using the [R graph gallery](https://r-graph-gallery.com/){target=\"_blank\"}\n-   For getting some open source data to start your own projects I would recommend the tidy Tuesday initiative. All datasets are hosted in [github](https://github.com/rfordatascience/tidytuesday){target=\"_blank\"}.\n-   [Statquest](https://www.youtube.com/@statquest){target=\"_blank\"} is a YouTube channel that provides clear explanations of statistical methods, and how do do them in R.\n\n    -   Take this example of how to do a [linear regression in R](https://www.youtube.com/watch?v=u1cc1r_Y7M0&list=PLblh5JKOoLUJJpBNfk8_YadPwDTO2SCbx&index=5){target=\"_blank\"}\n\n    -   Or this for a [multiple linear regression in R](https://www.youtube.com/watch?v=hokALdIst8k&list=PLblh5JKOoLUJJpBNfk8_YadPwDTO2SCbx&index=7){target=\"_blank\"}\n\n-   [Modern stats with R](https://www.modernstatisticswithr.com/regression.html#){target=\"_blank\"} book provides some useful examples\n\n-   [R tutor](https://www.r-tutor.com/elementary-statistics){target=\"_blank\"} which provides short examples of lots of statistical tests.\n\n-   [R statistics tutorials](https://r-statistics.co/Statistical-Tests-in-R.html){target=\"_blank\"} which are longer tutorials on models like regression.\n\n## Some examples of R being awesome for Data visualisation\n\n![Animated gif of rainfall and temperature changes over time in Australian cities](https://github.com/andrewmoles2/TidyTuesday/blob/master/Australia-fires-2020-01-07/Auz_Rain&Temp2.gif?raw=true){fig-alt=\"Animated gif of rainfall and temperature changes over time in Australian cities\" fig-align=\"center\" width=\"90%\"}\n\n![Regional map UK showing how each area is doing in terms of gender pay equality for each year data has existed, from 2017-2022](https://github.com/andrewmoles2/TidyTuesday/blob/master/paygap-2022-06-28/median_pay_diff_postcode_year.png?raw=true){fig-alt=\"Regional map showing how each area of the UK is doing in terms of gender pay equality for each year data has existed from 2017-2023. \" fig-align=\"center\" width=\"75%\"}\n\n::: {.callout-tip collapse=\"false\"}\n## Fun side note\n\nThis webpage was built using R. If you are interested, come to the workshops and chat to one of the instructors about it!\n:::\n\n\n```{r interactive, echo=FALSE, message=FALSE, warning=FALSE, fig.cap=\"Interactive graphic of Dr Who episodes IMDB rating by actor playing the Doctor\", out.width='100%'}\n\n# load libraries ----\nlibrary(tidyverse, warn.conflicts = FALSE)\nlibrary(ggiraph, warn.conflicts = FALSE)\nlibrary(ggimage, warn.conflicts = FALSE)\n\n# load in the separate datasets ----\ndirectors <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-11-23/directors.csv')\nepisodes <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-11-23/episodes.csv')\n\n# make list of doctors per season ----\ndoctor <- c(\"Christopher Eccleston\",\"David Tennant\",\"David Tennant\",\"David Tennant\",\n          \"Matt Smith\",\"Matt Smith\",\"Matt Smith\",\"Peter Capaldi\",\"Peter Capaldi\",\n          \"Peter Capaldi\",\"Jodie Whittaker\",\"Jodie Whittaker\",\"Jodie Whittaker\")\nseason <- 1:13\ndoctors <- data.frame(season,doctor)\n\n# clean up missing season data on special episodes ----\nepisodes <- episodes %>%\n  mutate(season_number = case_when(\n      first_aired >= \"2008-12-25\" & first_aired <= \"2010-01-01\" ~ 4,\n      first_aired >= \"2013-11-23\" & first_aired <= \"2013-12-25\" ~ 7,\n      TRUE ~ season_number))\n\n# make main data through joins ----\ndf_who <- left_join(episodes, directors, by = \"story_number\")\ndf_who <- left_join(df_who, doctors, by = c(\"season_number\" = \"season\")) %>%\n  mutate(director = factor(director),\n         doctor = factor(doctor, levels = c(\"Christopher Eccleston\", \"David Tennant\",\n                                       \"Matt Smith\", \"Peter Capaldi\", \"Jodie Whittaker\")))\n# set up palettes ----\npal <- c(\n  \"#B4301B\", # dark red (CE)\n  \"#38631F\", # dark green (DT)\n  \"#6A51A3\", # purple (MS)\n  \"#0455EB\", # vivid blue (PC)\n  \"#FFA62B\" # vivid orange (JW)\n)\n\n# average rating and viewers + image path ----\ndf_who %>%\n  group_by(doctor) %>%\n  mutate(avg_dr_rating = mean(rating, na.rm = TRUE),\n    avg_dr_viewers = mean(uk_viewers, na.rm = TRUE),\n    avg_rating = mean(avg_dr_rating, na.rm = TRUE)) %>%\n  ungroup() %>%\n  mutate(image = case_when(\n    doctor == \"Peter Capaldi\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/peter_c.png\",\n      doctor == \"David Tennant\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/david_t.png\",\n      doctor == \"Matt Smith\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/matt_s.png\",\n      doctor == \"Jodie Whittaker\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/jodie_w.png\",\n      doctor == \"Christopher Eccleston\" ~ \"https://raw.githubusercontent.com/andrewmoles2/TidyTuesday/master/dr-who-2021-11-23/dr-img/chris_e.png\"\n  )) -> df_who\n\ndf_who %>%\n  mutate(\n    plot_text = paste(\"Episode\", episode_number, \"-\", episode_title, \"from season\", season_number, \"had\", uk_viewers, \"UK viewers\")\n    ) -> df_who\n\navg_who <- \n  df_who %>%\n  group_by(doctor) %>%\n  summarise(avg_dr_rating = mean(avg_dr_rating))\n\nf3 <- \"Avenir\"\n\ndf_who %>%\n  ggplot(aes(x = doctor, y = rating)) +\n  geom_jitter_interactive(size = 7, width = 0.35, alpha = 0.8, hover_nearest = TRUE,\n                          aes(colour = doctor, data_id = story_number,\n                              tooltip = plot_text)) +\n  geom_hline(aes(yintercept = mean(avg_rating)), \n             colour = \"grey5\", size = 1, linetype = 5) +\n  geom_segment(aes(x = doctor, xend = doctor, y = mean(avg_rating), yend = avg_dr_rating),\n               colour = \"grey5\", size = 1, linetype = 2) +\n  geom_point(aes(x = doctor, y = avg_dr_rating), \n             size = 8, shape = 19, fill = \"grey10\", alpha = 0.8) +\n#  geom_image(aes(x = doctor, y = avg_dr_rating, image = image), asp = 1.4) +\n  geom_text(data = avg_who, aes(x = doctor, y = avg_dr_rating, label = round(avg_dr_rating, 1)), \n            family = f3, nudge_x = 0, colour = \"grey95\", size = 3) +\n  annotate(\"text\", x = 4.5, y = 88, hjust = \"left\", family = f3, colour = \"grey5\", size = 3,\n           label = paste0(\"Overall Average: \", round(mean(df_who$avg_dr_rating),2))) +\n  annotate(\"curve\", x = 4.5, y = 87.9, xend = 4.8, yend = 84.2, colour = \"grey5\",\n           curvature = -.3, arrow = arrow(length = unit(2, \"mm\"))) +\n  annotate(\"text\", x = 2.5, y = 79.9, hjust = \"right\", family = f3, colour = \"grey5\",\n           label = \"Average Per Doctor\", size = 3) +\n  annotate(\"curve\", x = 2.5, y = 80, xend = 1.2, yend = 82.2, colour = \"grey5\",\n           curvature = .3, arrow = arrow(length = unit(2, \"mm\"))) +\n  annotate(\"curve\", x = 2.5, y = 80, xend = 3.8, yend = 82.2, colour = \"grey5\",\n           curvature = -.3, arrow = arrow(length = unit(2, \"mm\"))) +\n  scale_colour_manual(values = pal) +\n  guides(colour = \"none\") +\n  scale_y_continuous(limits = c(75, 95)) +\n  labs(title = \"Doctor Who...was the most popular?\",\n       subtitle = \"Dr Who episodes IMDB rating by Doctor, scale out of 100\",\n       caption = \"Source: datardis package | Graphic: Andrew Moles\",\n       x = \"\", y = \"IMDB Rating\") +\n  coord_flip() +\n  theme(text = element_text(family = f3),\n        plot.title.position = \"plot\",\n        plot.title = element_text(size = 20, face = \"bold\", family = f3),\n        plot.subtitle = element_text(size = 14, family = f3),\n        plot.caption = element_text(size = 10, face = \"italic\"),\n        axis.text = element_text(size = 11),\n        plot.background = element_rect(fill = \"grey95\"),\n        panel.background = element_rect(fill = \"grey95\"),\n        panel.grid.major.y = element_blank(),\n        panel.grid.minor.y = element_blank(),\n        panel.grid.major.x = element_line(colour = \"grey80\"),\n        panel.grid.minor = element_line(colour = \"grey80\"),\n        axis.ticks = element_blank()) -> dr_w\n\ncss_default_hover <- girafe_css_bicolor(primary = \"#E2DBAA\", secondary = \"#ABB3E2\")\nset_girafe_defaults(opts_hover = opts_hover(css = css_default_hover))\n\ngirafe(ggobj = dr_w, fonts = list(\"Arial\"), \n       options = list(opts_toolbar(position = \"bottom\")))\n```\n\n\nBelow is an example of using the [http://quanteda.io/](Quanteda){target=\"_blank\"} package for text analysis, which is developed here at LSE by Ken Benoit. It is a visualisation to show how readable inaugural speeches from presidents have been since 1945. A higher score means the text used in the speech is more readable.\n\n```{r quanteda, message=FALSE, warning=FALSE}\n#| code-fold: true\n#| code-summary: \"Show the code\"\n#| out-width: '100%'\n\n# load libraries\nlibrary(quanteda)\nlibrary(quanteda.textstats)\nlibrary(ggplot2)\n\n# prepare data\ninaugural_readability <- data_corpus_inaugural %>%\n    corpus_subset(Year > 1945) %>% \n    textstat_readability(measure = c(\"Flesch\"))\n\n# calculate readability\navg_readability <- mean(inaugural_readability$Flesch)\n\n# text and point colours\npoint_col <- \"black\"\ntext_col <- \"white\"\n\n# make visual\nggplot(inaugural_readability, \n       aes(x = document, y = Flesch)) +\n  geom_point(size = 6.5, colour = point_col) +\n  geom_hline(yintercept = avg_readability,\n             alpha = 0.75, linetype = 5, linewidth = 1.2) +\n  geom_segment(aes(xend = document, yend = avg_readability),\n               linetype = 3, linewidth = 1.2) +\n  geom_text(aes(label = round(Flesch, 1)), \n            colour = text_col, size = 2, family = \"Avenir\") +\n  annotate(geom = \"text\", x = \"2005-Bush\", y = 69,\n           family = \"Avenir\", size = 4,\n           label = paste0(\"Average readability: \", round(avg_readability,2))) +\n  annotate(geom = \"curve\",x = 14.5, y = 66, alpha = 0.6,\n           xend = \"2005-Bush\", yend = avg_readability+0.4,\n           curvature = -0.35, arrow = arrow(length = unit(0.15, \"inches\"))) +\n  coord_flip() +\n    labs(x = NULL, y = \"Readability (Flesch)\",\n         title = \"Readability of inaugural speeches since 1945\",\n         subtitle = \"Higher score means text is more readable\") +\n  theme_minimal(base_family = \"Avenir\") +\n  theme(plot.title.position = \"plot\")\n\n```\n\n\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","filters":["webr"],"css":["css/styles.css"],"toc":true,"toc-depth":4,"include-in-header":["progress-bar.html"],"output-file":"whyR.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.31","webr":{"show-startup-message":true,"packages":["ggplot2","dplyr"]},"theme":["pulse","css/roboto.css"],"toc-location":"right-body","mainfont":"roboto","grid":{"sidebar-width":"320px"},"lightbox":"auto","title":"Why learn R"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}